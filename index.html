<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomodoro Timer | Reclaim Your Time with Effective Time Management</title>
    <meta name="description" content="Boost your productivity with our free Pomodoro Technique timer app. Improve focus, manage time effectively, and reclaim your schedule with this proven time management method.">
    <meta name="keywords" content="Pomodoro Technique, Pomodoro timer, time management, productivity, focus technique, time blocking, reclaim time, work-life balance, productivity app, time management tool">
    <meta name="author" content="Pomodoro Timer App">
    <meta property="og:title" content="Pomodoro Timer | Effective Time Management Tool">
    <meta property="og:description" content="Boost your productivity with our free Pomodoro Technique timer app. Improve focus, manage time effectively, and reclaim your schedule.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="assets/icons/icon-512x512.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Pomodoro Timer | Effective Time Management Tool">
    <meta name="twitter:description" content="Boost your productivity with our free Pomodoro Technique timer app. Improve focus and manage time effectively.">
    <meta name="twitter:image" content="assets/icons/icon-512x512.png">
    <!-- Prevent Caching -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/header-row.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    <!-- Add to home screen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Pomodoro Timer">
    <link rel="apple-touch-icon" href="assets/icons/icon-192x192.png">
</head>
<body>

    <div class="app-container">
        <header>
            <nav class="nav-menu">
                <button class="menu-toggle">☰ Menu</button>
                <ul>
                    <li><a href="index.html" class="active">Home</a></li>
                    <li><a href="highlights.html">Highlights</a></li>
                    <li><a href="tips.html">Tips & Tricks</a></li>
                    <li><a href="resources.html">Resources</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
            </nav>

            <div class="header-row">
                <div class="header-left">
                    <script
                        type="text/javascript"
                        src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js"
                        data-name="bmc-button"
                        data-slug="richcrane"
                        data-color="#5F7FFF"
                        data-emoji=""
                        data-font="Cookie"
                        data-text="Buy me a coffee"
                        data-outline-color="#000000"
                        data-font-color="#ffffff"
                        data-coffee-color="#FFDD00">
                    </script>
                </div>
                <div class="header-right header-actions">
                    <button id="addToHomeButton" class="action-button" aria-label="Add to Home Screen" title="Add to Home Screen">
                        <!-- Home icon SVG (iOS style) -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7"></path><path d="M9 22V12H15V22"></path></svg>
                    </button>
                    <button id="shareButton" class="action-button" aria-label="Share" title="Share">
                        <!-- Share icon SVG (iOS style) -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-share"><path d="M4 12v7a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line></svg>
                    </button>
                    <a href="https://github.com/ChiefInnovator/pomodoro" target="_blank" rel="noopener noreferrer" class="github-icon-button" aria-label="View on GitHub" title="View on GitHub">
                        <!-- GitHub Mark SVG -->
                        <svg height="24" width="24" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
                            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                        </svg>
                    </a>
                    <div class="settings-button" id="settingsButton">⚙️</div>
                </div>
            </div>
        </header>

        <main>
            <div class="timer-container">
                <div class="timer-wrapper">
                    <div class="timer" id="timer">
                        <div class="timer-face">
                            <div class="timer-display">
                                <span id="minutes">25</span>:<span id="seconds">00</span>
                            </div>
                            <div class="timer-knob" id="timerKnob"></div>
                            <div class="timer-progress" id="timerProgress"></div>
                        </div>
                    </div>
                    <div class="timer-controls">
                        <button id="startButton" class="control-button">Start</button>
                        <button id="pauseButton" class="control-button" disabled>Pause</button>
                        <button id="resetButton" class="control-button">Reset</button>
                    </div>
                </div>
                <div class="session-info">
                    <div class="session-type" id="sessionType">Work Session</div>
                    <div class="pomodoro-counter">
                        Pomodoros: <span id="pomodoroCount">0</span>
                    </div>
                </div>
                <div class="technique-description">
                    <p>The <strong>Pomodoro Technique</strong> is a time management method that helps you <em>reclaim your time</em> and improve focus. Work in 25-minute intervals, followed by short breaks to maximize productivity and prevent burnout.</p>
                </div>
            </div>

            <button id="taskToggle" class="task-toggle">Manage Tasks</button>

            <div class="task-container" id="taskContainer">
                <button class="close-tasks" id="closeTasks">×</button>
                <h2>Manage Tasks Effectively</h2>
                <div class="task-controls">
                    <button id="addTaskButton" class="task-button">Add Task</button>
                    <div class="task-filter">
                        <label for="categoryFilter">Filter:</label>
                        <select id="categoryFilter">
                            <option value="all">All Categories</option>
                        </select>
                    </div>
                </div>
                <div class="task-list" id="taskList">
                    <!-- Tasks will be added here dynamically -->
                </div>
            </div>
        </main>

        <div class="settings-modal" id="settingsModal">
            <div class="settings-content">
                <h2>Settings</h2>
                <div class="settings-close" id="closeSettings">×</div>
                <div class="settings-section">
                    <h3>Timer Settings</h3>
                    <div class="setting-item">
                        <label for="workDuration">Work Duration (minutes):</label>
                        <input type="number" id="workDuration" min="1" max="60" value="25">
                    </div>
                    <div class="setting-item">
                        <label for="shortBreakDuration">Short Break (minutes):</label>
                        <input type="number" id="shortBreakDuration" min="1" max="30" value="5">
                    </div>
                    <div class="setting-item">
                        <label for="longBreakDuration">Long Break (minutes):</label>
                        <input type="number" id="longBreakDuration" min="1" max="60" value="15">
                    </div>
                    <div class="setting-item">
                        <label for="longBreakInterval">Long Break After (pomodoros):</label>
                        <input type="number" id="longBreakInterval" min="1" max="10" value="4">
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Sound Settings</h3>
                    <div class="setting-item">
                        <label for="volumeControl">Volume:</label>
                        <input type="range" id="volumeControl" min="0" max="100" value="50">
                    </div>
                    <div class="setting-item">
                        <label for="muteToggle">Mute:</label>
                        <input type="checkbox" id="muteToggle">
                    </div>
                </div>
                <button id="saveSettings" class="settings-save">Save Settings</button>
            </div>
        </div>

        <div class="task-modal" id="taskModal">
            <div class="task-modal-content">
                <h2 id="taskModalTitle">Add Task</h2>
                <div class="task-close" id="closeTaskModal">×</div>
                <div class="task-form">
                    <div class="form-group">
                        <label for="taskTitle">Task Title:</label>
                        <input type="text" id="taskTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="taskCategory">Category:</label>
                        <input type="text" id="taskCategory" list="categories" placeholder="Enter or select category">
                        <datalist id="categories">
                            <option value="Work">
                            <option value="Study">
                            <option value="Personal">
                        </datalist>
                    </div>
                    <div class="form-group">
                        <label for="taskPriority">Priority:</label>
                        <select id="taskPriority">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="taskNotes">Notes:</label>
                        <textarea id="taskNotes" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="estimatedPomodoros">Estimated Pomodoros:</label>
                        <input type="number" id="estimatedPomodoros" min="1" value="1">
                    </div>
                    <input type="hidden" id="taskId">
                    <div class="task-form-buttons">
                        <button id="saveTaskButton" class="task-save-button">Save Task</button>
                        <button id="cancelTaskButton" class="task-cancel-button">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <div class="footer-center">
                Pomodoro Timer © 2025 Richard Crane – Effective Time Management Tool &nbsp;|&nbsp;
                Improve your <a href="index.html#" title="Time Management Techniques">time management</a>, <a href="index.html#" title="Boost Productivity">productivity</a>, and <a href="index.html#" title="Work-Life Balance">work-life balance</a> with the Pomodoro Technique.
            </div>
        </footer>
    </div>

    <div class="add-to-home-tutorial" id="addToHomeTutorial">
        <div class="tutorial-content">
            <h3>Add to Home Screen</h3>
            <p>Install this app on your device for quick access!</p>
            <div class="tutorial-steps">
                <div class="tutorial-step">
                    <div class="step-number">1</div>
                    <p>Tap the share icon in your browser</p>
                </div>
                <div class="tutorial-step">
                    <div class="step-number">2</div>
                    <p>Select "Add to Home Screen"</p>
                </div>
                <div class="tutorial-step">
                    <div class="step-number">3</div>
                    <p>Enjoy quick access to the Pomodoro Timer!</p>
                </div>
            </div>
            <button id="closeTutorial" class="tutorial-close-button">Got it!</button>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script src="js/timer.js"></script>
    <script src="js/tasks.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/stats.js"></script>
    <script src="js/menu.js"></script>
    <script>
        // Hide share button on iOS and Android
        function isMobileDevice() {
          return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }
        document.addEventListener('DOMContentLoaded', function() {
          var shareBtn = document.getElementById('shareButton');
          if (shareBtn && isMobileDevice()) {
            shareBtn.style.display = 'none';
          }
        });
        // Register service worker for offline functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(error => {
                        console.log('ServiceWorker registration failed: ', error);
                    });
            });
        }
    </script>

<!-- Structured Data for SEO -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Pomodoro Timer",
  "description": "Boost your productivity with our free Pomodoro Technique timer app. Improve focus, manage time effectively, and reclaim your schedule with this proven time management method.",
  "applicationCategory": "Productivity",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "featureList": [
    "Customizable work sessions and breaks",
    "Task management with categories and priorities",
    "Pomodoro counter with statistics",
    "Audio notifications with volume control",
    "Offline functionality"
  ]
}
</script>
<footer-btn></footer-btn>
<script>
    class FooterBtn extends HTMLElement {
        constructor() {
            super();
            const shadow = this.attachShadow({ mode: 'open' });
            const wrapper = document.createElement('div');
            wrapper.setAttribute('class', 'wrapper');
            wrapper.innerHTML = ``;
            const style = document.createElement('style');
            style.textContent = `
            @keyframes changeWidth {
                0% {
                    width: 150px;
                    background-color: transparent;
                }
                100% {
                    width: 574px;
                    background-color: #fff;
                }
            }

            *,
            *::before,
            *::after {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
                border: unset;
            }

            * {
                line-height: 1.2;
                text-shadow: initial;
                font-family: 'SF Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            }

            a {
                text-decoration: unset;
            }

            .page-footer-mobile {
                z-index: 10000;
                display: none;
                position: absolute;
                right: 16px;
                bottom: 16px;
            }

            .page-footer {
                z-index: 10000;
                display: flex;
                padding: 4px 4px 4px 12px;
                align-items: center;
                gap: 16px;
                position: fixed;
                right: 16px;
                bottom: 16px;
                border-radius: 24px;
                border: 1px solid transparent;
                background: transparent;
                transition: 0.3s;
            }

            .footer-close-btn {
                display: none;
                z-index: 10002;
                cursor: pointer;
                position: absolute;
                right: -3px;
                top: -3px;
            }

            .footer-bg {
                overflow: hidden;
                position: absolute;
                right: 0px;
                bottom: 0px;
                height: 38px;
                width: 150px;
                background-color: transparent;
                border-radius: 24px;
            }

            .tooltip-box {
                display: none;
                transition: 0.3s;
                z-index: 10001;
                align-items: center;
                gap: 1px;
            }

            .tooltip-desc {
                color: #858481;
                /* Label/Primary */
                font-size: 12px;
                font-style: normal;
                font-weight: 400;
                line-height: 16px; /* 133.333% */
            }

            .footer-button {
                z-index: 10001;
                right: 16px;
                bottom: 16px;
                user-select: none;
                cursor: pointer;
                display: flex;
                padding: 5px 10px;
                align-items: center;
                height: 30px;
                gap: 2px;
                transition: 0.3s;
                border-radius: 14px;
                border: 1px solid rgba(0, 0, 0, 0.06);
                background: #1a1a19;
                box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, 0.06), 0px 8px 32px 0px rgba(0, 0, 0, 0.06);
            }

            .footer-logo {
                width: 18px;
                height: 18px;
            }

            .footer-button:hover .create-title {
                opacity: 0.8;
            }

            .footer-button:hover .footer-logo {
                opacity: 0.8;
            }

            .page-footer:hover .footer-close-btn {
                display: block;
            }

            .page-footer:hover .create-title {
                display: block;
            }

            .page-footer:hover .title {
                display: none;
            }

            .page-footer:hover .footer-bg {
                animation: changeWidth 0.3s ease-in-out forwards;
                border: 1px solid rgba(0, 0, 0, 0.06);
                background: #fff;
                box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, 0.06), 0px 8px 32px 0px rgba(0, 0, 0, 0.06);
            }

            .page-footer:hover .tooltip-box {
                position: absolute;
                text-wrap-mode: nowrap;
                display: flex;
                left: 10px;
                top: 9px;
            }

            .tooltip-icon {
                position: relative;
                cursor: pointer;
            }

            .tooltip-dialog {
                display: none;
                position: absolute;
                bottom: 154%;
                left: -10%;
                transform: translateX(-50%);
                padding: 10px;
                border-radius: 12px;
                font-size: 12px;
                line-height: 16px;
                background-color: #171818;
                color: #fff;
                max-width: 280px;
                width: max-content;
            }

            .title {
                color: #fff;
                font-size: 12px;
                font-style: normal;
                font-weight: 400;
                line-height: 16px;
            }

            .create-title {
                display: none;
                color: #fff;
                font-size: 12px;
                font-style: normal;
                font-weight: 400;
            }

            .footer-dialog {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                display: none;
                justify-content: center;
                align-items: center;
            }

            .dialog-box {
                display: flex;
                width: 358px;
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
                border-radius: 20px;
                border: 1px solid rgba(255, 255, 255, 0.04);
                background: #fff;

                /* menu/main */
                box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, 0.02), 0px 4px 32px 0px rgba(0, 0, 0, 0.16);
                backdrop-filter: blur(40px);
            }

            .dialog-header {
                display: flex;
                padding: 16px 12px 8px 16px;
                align-items: flex-start;
                gap: 16px;
                align-self: stretch;
            }

            .dialog-header-title {
                flex: 1;
                color: #34322d;
                font-size: 18px;
                font-style: normal;
                font-weight: 600;
            }

            .dialog-body {
                display: flex;
                padding: 0px 16px;
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
                align-self: stretch;
                color: #535350;
                font-size: 16px;
                font-style: normal;
                font-weight: 400;
                line-height: 24px;
            }

            .dialog-footer {
                display: flex;
                padding: 16px;
                align-items: flex-start;
                gap: 12px;
                align-self: stretch;
            }

            .dialog-footer-button-left {
                display: flex;
                width: 119px;
                min-width: 114px;
                min-height: 48px;
                padding: 12px 24px;
                justify-content: center;
                align-items: center;
                gap: 6px;
                border-radius: 12px;
                background: rgba(55, 53, 47, 0.06);
                color: #34322d;
                font-size: 16px;
                font-style: normal;
                font-weight: 600;
            }

            .dialog-footer-button-right {
                display: flex;
                min-width: 114px;
                min-height: 48px;
                padding: 12px 24px;
                justify-content: center;
                align-items: center;
                gap: 6px;
                flex: 1 0 0;
                border-radius: 12px;
                background: #1a1a19;
                color: #fff;
                font-size: 16px;
                font-style: normal;
                font-weight: 600;
            }

            @media (max-width: 600px) {
                .page-footer {
                    display: none;
                }
                .page-footer-mobile {
                    display: block;
                }
                .footer-button {
                    position: fixed
                }
            }
            `;
            // 将样式和内容添加到Shadow DOM
            shadow.appendChild(style);
            shadow.appendChild(wrapper);

            // 在connectedCallback中设置事件监听器
            this.setupEventListeners(shadow);
        }
        onclickEvent(shadow, domStr, fn) {
            const clickDom = shadow.querySelector(domStr);
            if (clickDom) {
                clickDom.onclick = (event) => {
                    fn(event, clickDom);
                };
            }
        }
        setupEventListeners(shadow) {
            const changeDialogStyle = (displayStatus) => {
                const dialog = shadow.querySelector('.footer-dialog');
                if (dialog) {
                    dialog.style.display = displayStatus;
                }
            };

            const createSite = () => {
                changeDialogStyle('none');
            };

            this.onclickEvent(shadow, '.page-footer-mobile .dialog-footer-button-left', () => {
                changeDialogStyle('none');
            });

            this.onclickEvent(shadow, '.page-footer-mobile .dialog-footer-button-right', () => {
                createSite();
            });

            this.onclickEvent(shadow, '.page-footer-mobile .dialog-header-icon', () => {
                changeDialogStyle('none');
            });

            this.onclickEvent(shadow, '.page-footer-mobile .footer-button', () => {
                changeDialogStyle('flex');
            });

            this.onclickEvent(shadow, '.footer-close-btn', () => {
                localStorage.setItem('embedClosed', 'true');
                shadow.querySelector('.page-footer').style.display = 'none';
                shadow.querySelector('.page-footer-mobile').style.display = 'none';
            });

            this.onclickEvent(shadow, '.page-footer-mobile .footer-dialog', (event, dialog) => {
                if (event.target === dialog) {
                    changeDialogStyle('none');
                }
            });

            const tooltipIcon = shadow.querySelector('.tooltip-icon');
            const tooltipDialog = shadow.querySelector('.tooltip-dialog');

            tooltipIcon.addEventListener('mouseenter', function () {
                tooltipDialog.style.display = 'block';
            });

            tooltipIcon.addEventListener('mouseleave', function () {
                tooltipDialog.style.display = 'none';
            });

            if (localStorage.getItem('embedClosed')) {
                shadow.querySelector('.page-footer').style.display = 'none';
                shadow.querySelector('.page-footer-mobile').style.display = 'none';
            }
        }
    }
    customElements.define('footer-btn', FooterBtn);
</script>
		<script>
			window.plausible =
				window.plausible ||
				function () {
					(window.plausible.q = window.plausible.q || []).push(arguments);
				};
			plausible('custom-pageview', {
			  props: {
    			domain: window.location.host
  			}
			})
		</script>
	</body>
</html>
